# Command Pattern

**μΊ΅μν™” μμ¤€μ„ λ” λ†’μ€ μμ¤€μΌλ΅**
**λ©”μ†λ“ νΈμ¶μ„ μΊ΅μν™”**

## ν‘λ ¥ μ—…μ²΄ ν΄λμ¤

---

- μƒλ‹Ήν λ§μ€ κ°μ²΄μ μΈν„°νμ΄μ¤
    - κ³µν†µμ μΈ μΈν„°νμ΄μ¤μ λ¶€μ¬β€¦
    - μ•μΌλ΅λ„ μ—¬λ¬ μΈν„°νμ΄μ¤κ°€ μ¶”κ°€λ  μ μμ.

## μ»¤λ§¨λ“ ν¨ν„΄

---

**μ‘μ—…μ„ μ”μ²­ν•λ” μ½κ³Ό κ·Έ μ‘μ—…μ„ μ²λ¦¬ν•λ” μ½μ„ λ¶„λ¦¬**

- **μ»¤λ§¨λ“ κ°μ²΄**λ¥Ό μ¶”κ°€ν•μ—¬ μ‘μ—…
    - νΉμ • κ°μ²΄μ— κ΄€ν• νΉμ • μ‘μ—…μ”μ²­μ„ μΊ΅μν™”.
- ν¨ν„΄μ΄ μ–΄λ–»κ² λμ•„κ°€λ”μ§€ νμ•…ν•κΈ° μ–΄λ ¤μ›€.

### μ£Όλ¬Έν•λ” κ³Όμ •

- **μ£Όλ¬Έμ„λ” μ£Όλ¬Έ λ‚΄μ©μ„ μΊ΅μν™”**
    - μ£Όλ¬Έμ„λ” μ£Όλ¬Έ λ‚΄μ©μ„ μ”κµ¬ν•λ” κ°μ²΄
    - μ‹μ‚¬ μ¤€λΉ„μ— ν•„μ”ν• `orderUp()` λ©”μ†λ“μ™€ μ£Όλ°©μ¥ λ νΌλ°μ¤λ§ λ“¤μ–΄μμ.
    - μ£Όλ¬Έμ„ λ°›μΌλ©΄ μ£Όλ°©μ¥ λ νΌλ°μ¤μ—κ² `orderUP()`μ„ νΈμ¶ν•΄μ£ΌκΈ°λ§ ν•λ©΄ λ¨.
- **μΆ…μ—…μ›μ€ μ£Όλ¬Έμ„λ¥Ό λ°›κ³  `orderUp()` νΈμ¶**
    - orderUp() λ©”μ†λ“λ¥Ό νΈμ¶ν•λ” κ°μ²΄.
    - μ£Όλ¬Έμ„μ λ‚΄μ©, μ£Όλ°©μ¥μ΄ λ„κµ¬μΈμ§€. β‡’ μ•„λ¬΄ κ΄€μ‹¬ μ—†μ.
    - `takeOrder()` λ©”μ†λ“μ—λ” μ—¬λ¬ κ³ κ°μ μ£Όλ¬Έμ„λ¥Ό λ§¤κ°λ³€μλ΅ μ „λ‹¬.
- **μ£Όλ°©μ¥μ€ μ‹μ‚¬λ¥Ό μ¤€λΉ„ν•λ”λ° ν•„μ”ν• μ •λ³΄**
    - μ‹μ‚¬ μ¤€λΉ„ λ°©λ²•μ€ μ£Όλ°©μ¥λ§ μ•κ³  μμ.

### μ©μ–΄μ •λ¦¬

- Client
    - μ»¤λ§¨λ“ κ°μ²΄ μƒμ„±.
- Command
    - λ¦¬μ‹λ²„μ—κ² μ „λ‹¬ν•  ν–‰λ™ κµ¬μ„±
    - λ¦¬μ‹λ²„μ—κ² ν–‰λ™ μ²λ¦¬.(`execute()` νΈμ¶)
- Invoker
    - μ»¤λ§¨λ“ κ°μ²΄ μ“°μ΄κΈ° μ „κΉμ§€ λ³΄κ΄€.
- Receiver
    - ν–‰λ™ λ©”μ†λ“ μ‹¤ν–‰.

### μ²«λ²μ§Έ μ»¤λ§¨λ“ κ°μ²΄ λ§λ“¤κΈ°

- **μ»¤λ§¨λ“ μΈν„°νμ΄μ¤ κµ¬ν„**
    - λ¨λ‘ κ°™μ€ μΈν„°νμ΄μ¤ κµ¬ν„.
    - `execute()` λ©”μ†λ“ μ •μ
- **μ΅°λ…μ„ μΌ¤ λ• ν•„μ”ν• μ»¤λ§¨λ“ ν΄λμ¤ κµ¬ν„**
    - `LightOnCommand` ν΄λμ¤ κµ¬ν„
        - νΉμ • μ»¤λ§¨λ“ κ°μ²΄λ΅ μ μ–΄ν•  ν΄λμ¤μ μΈν„°νμ΄μ¤ μ „λ‹¬.(light μΈν„°νμ΄μ¤)
    - `execute()` λ©”μ†λ“ μ¤λ²„λΌμ΄λ“

### μ»¤λ§¨λ“ κ°μ²΄ μ‚¬μ©ν•κΈ°

- μ—°κ²° μ¬λ΅―κ³Ό μ‹¤ν–‰μ¬λ΅― μ •μ.
- `RemoteControlTest` ν΄λμ¤λ” ν΄λΌμ΄μ–ΈνΈ
- `remote` λ³€μλ” μΈλ³΄μ»¤
- `light` ν΄λμ¤λ” λ¦¬μ‹λ²„
- `lightOn`μ€ μ»¤λ§¨λ“ κ°μ²΄
- μ»¤λ§¨λ“ κ°μ²΄λ¥Ό μΈλ³΄μ»¤μ—κ² μ „λ‹¬
- μ»¤λ§¨λ“ κ°μ²΄ μ‹¤ν–‰

## μ»¤λ§¨λ“ ν¨ν„΄ μ •μ

---

<aside>
π’΅ **μ»¤λ§¨λ“ ν¨ν„΄**μ„ μ‚¬μ©ν•λ©΄ **μ”μ²­ λ‚΄μ—­μ„ κ°μ²΄λ΅ μΊ΅μν™”**ν•΄μ„ **κ°μ²΄λ¥Ό μ„λ΅ λ‹¤λ¥Έ μ”μ²­ λ‚΄μ—­μ— λ”°λΌ λ§¤κ°λ³€μν™”** κ°€λ¥.

</aside>

- μ»¤λ§¨λ“ κ°μ²΄λ” μΌλ ¨μ ν–‰λ™μ„ νΉμ • λ¦¬μ‹λ²„μ™€ μ—°κ²°. μ”μ²­μ„ μΊ΅μν™”
- ν›„μ— λ©”νƒ€ μ»¤λ§¨λ“ ν¨ν„΄ β‡’ μ—¬λ¬κ°μ λ…λ Ήμ„ λ§¤ν¬λ΅λ΅ ν•λ²μ— μ‹¤ν–‰ κ°€λ¥.

### ν΄λμ¤ λ‹¤μ΄μ–΄κ·Έλ¨ μ‚΄ν΄λ³΄κΈ°

![Untitled](Command%20Pattern%2087b214a37c374fabb6dfa8d6a31d6d82/Untitled.png)

- `Client`λ” `ConcreteCommand`λ¥Ό μƒμ„±ν•κ³  `Receiver`λ¥Ό μ„¤μ •
- `Invoker`λ” λ…λ Ήμ΄ λ“¤μ–΄ μμΌλ©° `execute()` νΈμ¶λ΅ μ»¤λ§¨λ“ κ°μ²΄μ—κ² νΉμ • μ‘μ—… μν–‰ κ°€λ¥
- `Command`λ” λ¨λ“  μ»¤λ§¨λ“ κ°μ²΄κ°€ κµ¬ν„ν•΄μ•Όν•λ” μΈν„°νμ΄μ¤
    - execute()λ΅ λ©”μ†λ“ νΈμ¶
    - λ¦¬μ‹λ²„μ—κ² νΉμ • μ‘μ—…μ„ μ²λ¦¬ν•λΌλ” μ§€μ‹ μ „λ‹¬.
- `Receiver`λ” μ”κµ¬μ‚¬ν•­μ„ μν–‰ν• λ• μ–΄λ–¤ μΌμ„ μ²λ¦¬ν•΄μ•Ό ν•  μ§€.
- `ConcreteCommand`λ” νΉμ • ν–‰λ™κ³Ό λ¦¬μ‹λ²„λ¥Ό μ—°κ²°
    - `Invoker`μ—μ„ `execute()` νΈμ¶λ΅ μ”μ²­ν•λ©΄ `ConcreteCommand` κ°μ²΄μ—μ„ λ¦¬μ‹λ²„μ λ©”μ†λ“λ¥Ό νΈμ¶. μ‘μ—… μ²λ¦¬.

## ν™•μ¥

---

<aside>
π’΅ **NoCommand κ°μ²΄**
NoCommand κ°μ²΄λ” μΌμΆ…μ null κ°μ²΄. λ„ κ°μ²΄λ” λ”±ν λ¦¬ν„΄ν•  κ°μ²΄λ„ μ—†κ³  ν΄λΌμ΄μ–ΈνΈκ°€ nullμ„ μ²λ¦¬ν•μ§€ μ•κ² ν•κ³  μ‹¶μ„ λ• ν™μ©ν•λ©΄ μΆ‹μ.

</aside>

**λλ‹¤ ν‘ν„μ‹μ„ μ΄μ©ν•λ©΄ κµ¬μƒ μ»¤λ§¨λ“ κ°μ²΄λ¥Ό μƒμ„±ν•λ” λ‹¨κ³„λ¥Ό κ±΄λ„λ›Έ μ μμ.**

```java
/*
 * ... other
 */

remoteControl.setCommand(0, () -> livingRoomLight.on(), 
														() -> livingRoomLight.off());

/*
 * ...
 */
```

- Command μΈν„°νμ΄μ¤μ— μ¶”μƒ λ©”μ†λ“κ°€ ν•λ‚λΏμΌ λ•λ§ μ‚¬μ© κ°€λ¥.

## μ‘μ—… μ·¨μ† κΈ°λ¥

---

- interface Commandμ— `undo()`λ©”μ†λ“ μ¶”κ°€
